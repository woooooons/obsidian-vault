---
title: 명령어
date: 2025-12-11
tags:
  - it
  - 인프라
  - 운영체제_실무
  - 리눅스
  - 명령어
---
# 1. **리눅스 기본 명령어**

### 파일/디렉터리

```
ls        # 파일 목록 보기
ls -al    # 숨김 포함 상세 보기
cd        # 디렉터리 이동
pwd       # 현재 경로
mkdir     # 폴더 생성
rm        # 파일 삭제
rm -rf    # 폴더 강제 삭제
cp        # 복사
mv        # 이동 또는 이름 변경
touch     # 빈 파일 생성
```

### 파일 내용 보기

```
cat        # 파일 내용 출력
less       # 위아래 스크롤
head -n 10 # 위에서 10줄
tail -f    # 로그 끝부분 실시간 보기
```

### 시스템 정보

```
top        # CPU/메모리
htop       # 상위 버전(top 대체)
df -h      # 디스크 사용량
du -sh *   # 폴더별 용량
ps -ef     # 실행중 프로세스
kill -9 ID # 프로세스 종료
```

### 네트워크

```
ping google.com
curl http://주소
wget http://주소
netstat -tulnp
ss -lntp
```

---

# 2. **리다이렉션(입출력 제어)**

### 표준 출력(stdout)

```
>   : 덮어쓰기
>>  : 뒤에 추가
```

예:

```
echo "hello" > a.txt
echo "world" >> a.txt
```

### 표준 입력(stdin)

```
<
```

예:

```
cat < a.txt
```

### 표준 에러(stderr)

```
2>  : 에러를 파일로 저장
2>> : 에러를 파일에 append
```

### stdout + stderr 묶기

```
&> 파일
2>&1   # stderr → stdout
1>&2   # stdout → stderr
```

예:

```
abcd > /dev/null 2>&1   # 에러도 출력도 버리기
```

---

# 3. **파이프 |**

표준 출력을 다른 명령의 입력으로 연결한다.

예:

```
ls -al | grep txt
journalctl -u nginx | tail
ps -ef | grep python
```

Docker 이미지 만들 때 자주 쓰는 형태:

```
docker ps -a | grep exited | awk '{print $1}'
```

---

# 4. **변수 및 변수 치환**

### 변수 선언

```
hello="world"
```

### 사용

```
echo $hello
```

### 명령 결과를 변수로

```
now=$(date)
count=$(ls | wc -l)
```

### 문자열 안에서 변수 사용

```
echo "User: $USER"
```

### ${} 사용

```
name="world"
echo "hello ${name}"
```

### 기본값 설정

```
HELLO=${HELLO-"abcd"}   # NULL이면 기본값 넣지 않음
WORLD=${WORLD:-"abcd"}  # NULL이면 기본값 넣음
```

---

# 5. **문자열 처리**

### 작은 따옴표 ' '

변수 치환되지 않음.

```
echo '$USER'   # 그대로 출력
```

### 큰따옴표 " "

변수, 명령 실행됨.

```
echo "User: $USER"
echo "Time: $(date)"
```

### 특수문자 입력 시 escape

```
echo "\$USER \" \`"
```

### 여러 문자열 묶기

```
cp ./{a.txt,b.txt} backup/
```

### 숫자 범위

```
echo {1..10}
```

---

# 6. **조건문 if**

```
if [ $a -eq $b ]; then
  echo "same"
fi
```

### 숫자 비교

```
-eq, -ne, -gt, -lt, -ge, -le
```

### 문자열 비교

```
=, !=, -z, -n
```

---

# 7. **반복문**

### for (리스트 반복)

```
for i in $(ls)
do
  echo $i
done
```

### for (C 스타일)

```
for ((i=0; i<10; i++))
do
  echo $i
done
```

### 배열 반복

```
NUM=(1 2 3)
for i in ${NUM[@]}
do
  echo $i
done
```

### while 반복

```
while :
do
  echo hi
  sleep 1
done
```

---

# 8. **Here Document / Here String**

### Here String

```
cat <<< "hello world"
```

### Here Document

```
cat > a.txt <<EOF
Hello
$(hostname)
$USER
EOF
```

Dockerfile 생성 자동화에도 활용된다.

---

# 9. **export**

환경 변수 등록

```
export PATH="$PATH:/usr/local/bin"
export APP_ENV=prod
```

Docker ENTRYPOINT 작성할 때 사용된다.

---

# 10. **printf**

형식 지정 출력 + 자동 입력 처리 자동화에 사용

```
printf "80\nuser\ny" | example-config
```

관리 자동화 스크립트에서 자주 사용.

---

# 11. **sed 문자열 치환**

기본:

```
sed -i "s/hello/world/g" a.txt
```

경로 포함 문자열 치환:

```
sed -i "s/\/usr\/bin/\/opt\/bin/g" file.conf
```

Docker 이미지 빌드에서 설정파일 자동 수정에 자주 등장한다.

---

# 12. **한 줄 명령 여러개 실행**

### 성공하면 다음 실행

```
cmd1 && cmd2
```

### 실패해도 다음 실행

```
cmd1 ; cmd2
```

---

# 13. **줄바꿈 escape**

```
docker run \
  -d \
  --name web \
  nginx:latest
```

Docker run 붙여쓸 때 가독성 유지하기 좋다.

---

# 14. **주석**

```
# 이 부분은 실행되지 않는다
```

스크립트 설명에 필수.

---

# 15. **Docker 이미지 제작 시 Bash가 꼭 필요한 이유**

Dockerfile 내부에서는 거의 모든 동작이 Bash 기반으로 수행된다.

### 예: RUN 명령

```
RUN apt update && apt install -y python3
```

### 예: 파일 치환

```
RUN sed -i "s/debug=false/debug=true/g" /app/config.ini
```

### 예: 빌드 자동화

```
RUN for f in $(ls /scripts); do bash /scripts/$f; done
```

### 예: ENV 활용

```
ENV APP_ENV=prod
```

### 예: entrypoint

```
ENTRYPOINT ["bash", "-c", "python3 app.py"]
```

Docker의 모든 “이미지 튜닝 과정”이 Bash 문법을 기반으로 돌아간다.  
그래서 Docker 책에서 Bash 문법을 먼저 설명하는 것이다.

---

# 16. **이 정리로 가능한 작업들**

• Dockerfile 작성  
• 서버 자동 설정 스크립트 생성  
• 로그 분석  
• CI/CD 스크립트 작성  
• 파일 대량 처리  
• 네트워크 디버깅  
• 시스템 운영 자동화

## 참고 문서 & 링크

- **GNU Bash Reference Manual** — Bash의 공식 레퍼런스 매뉴얼. Bash의 동작, 문법, 확장 기능, 변수/입출력/제어 구조 등 모든 것이 상세히 정리되어 있음. [GNU+1](https://www.gnu.org/software/bash/manual/bash.html?utm_source=chatgpt.com)
    
- **Bash Programming Cheat Sheet** — Bash 스크립트 작성 시 자주 쓰는 문법과 명령어들을 간단하게 정리한 치트시트. 빠르게 훑고 싶을 때 유용. [coffeenix.net](https://coffeenix.net/doc/shell/bash_cheat.htm?utm_source=chatgpt.com)
    
- **Linux Commands Cheat Sheet (Red Hat)** — 파일/디렉토리 조작, 권한, 프로세스, 환경 변수 등 일반 Linux 명령어들을 정리한 자료. Bash 뿐 아니라 일반 커맨드라인 사용에도 참고가 됨. [Red Hat Developer](https://developers.redhat.com/cheat-sheets/linux-commands-cheat-sheet?utm_source=chatgpt.com)
    
- **GeeksforGeeks Linux/Unix Command Cheat Sheet** — Bash 기반 + 유닉스 명령어들을 예제와 함께 정리해 준 입문~중급자용 치트시트. [GeeksforGeeks](https://www.geeksforgeeks.org/linux-unix/linux-commands-cheat-sheet/?utm_source=chatgpt.com)